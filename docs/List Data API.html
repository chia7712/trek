<html>
<head>
  <title>List Data API</title>
  <basefont face="Microsoft YaHei" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303244 (zh-TW, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: Microsoft YaHei;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1131"/>
<h1>List Data API</h1>

<div>
<span><div>依照使用者指定的路徑和條件列出資料資訊，對於檔案系統（smb, ftp, hdfs, file）而言，我們只會掃描單層目錄，亦即不會recursive list。此外此操作不具有transaction特性，對於hds協定下只能刪除指定catalog下的資料。</div><div><br/></div><div><span style="font-size: 19px;"><b>HTTP request</b></span></div><div>GET /<span style="color: rgb(255, 0, 0);">data</span>/<font color="#FF0000">list</font>?<font color="#FF0000">{query}</font></div><div><br/></div><table style="-evernote-table:true;border-collapse:collapse;table-layout:fixed;width:100%;"><tr><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:35.888888888888886%;"><div style="text-align: center"><b>Query in BATCHDELETE</b></div></td><td style="border: 1px solid rgb(211, 211, 211); padding: 10px; margin: 0px;width:26.333333333333332%;"><div style="text-align: center"><b>作用域</b><br/></div></td><td style="border: 1px solid rgb(211, 211, 211); padding: 10px; margin: 0px;width:37.666666666666664%;"><div style="text-align: center"><b>說明</b><br/></div></td></tr><tr><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">from</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">exclude local, http</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><ol><li>要搜尋的資料路徑，格式：scheme:// <span style="color: rgb(0, 0, 0); font-family: 'Microsoft YaHei'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: medium; display: inline !important; float: none;">[[domain;]user:password@]host[:port]]/catalog[/</span><span style="color: rgb(0, 0, 0); font-family: 'Microsoft YaHei'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-size: medium; display: inline !important; float: none;">name]</span></li><li><span style="background-color: rgb(255, 255, 255);">name可用&quot;*&quot;與&quot;?&quot;</span></li></ol></td></tr><tr><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">limit</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">exclude local, http</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><ol><li>限制回傳的總筆數</li><li>&lt;0則代表無限大，預設值100</li></ol></td></tr><tr><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">offset</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">exclude local, http</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><ol><li>資料位移</li><li>預設值0</li><li>跳過的值&gt;=總共找到的值(after filter and order by)時，將會回傳空集合</li></ol></td></tr><tr><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">orderby</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">exclude local, http</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><ol><li>規定回傳資料的排序方式，共有time, name, size, location、type、path</li><li>type asc order：file, director</li><li>location asc order：HDFS, HBASE, FTP, SMB, FILE</li><li>size asc order：小到大</li><li>string asc order：字典排序</li><li>此值忽略則不保證排序方式</li></ol></td></tr><tr><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">asc</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">exclude local, http</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><ol><li>預設值true</li></ol></td></tr><tr><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">file</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">exclude local, http, hds</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><ol><li>是否要列出&quot;檔案&quot;</li><li>預設true</li></ol></td></tr><tr><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">directory</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">exclude local, http, hds</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><ol><li>是否要列出&quot;資料夾&quot;</li><li>預設false</li></ol></td></tr><tr><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">time</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">exclude local, http</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><ol><li>找特定的上傳時間</li><li>可用特定時間格式或&quot;(min,max)&quot;</li><li>yyyy-MM-dd'T'HH:mm:ss.SSS</li></ol></td></tr><tr><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">size</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">exclude local, http</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><ol><li>找特定的資料大小</li><li>可用([min, max])來設定範圍</li><li>負值或非數字則忽略</li></ol></td></tr><tr><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">keep</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><div style="text-align: center">exclude local, http</div></td><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:25%;"><ol><li>是否留下符合搜尋條件之資料</li><li>預設true</li></ol></td></tr></table><div><br/></div><div><span style="font-size: 19px;"><b>Response</b></span></div><div>If successful, this method returns the data list in the response body. The list represents the exist data if the KEEP is true; otherwise the list represents the data failed to delete</div><table style="-evernote-table:true;border-collapse:collapse;table-layout:fixed;margin-left:0px;width:100%;"><tr><td style="border-style:solid;border-width:1px;border-color:rgb(211,211,211);padding:10px;margin:0px;width:99.8888888888889%;"><div>[</div><div>    {</div><div>        &quot;uri&quot;: &quot;hds:///catalog/<span style="color: rgb(0, 0, 0); font-family: 'Microsoft YaHei'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;"><span style="font-size: medium;">nam</span>e</span>1&quot;,</div><div>        &quot;size&quot;: 12345,</div><div>        &quot;ts&quot;: 10000000,</div><div>        &quot;type&quot;: file,</div><div>        &quot;dataowner&quot;: &quot;host1:0.7, host2:0.3&quot;</div><div>    },</div><div>    {</div><div>        &quot;uri&quot;: &quot;hds:///catalog/<span style="color: rgb(0, 0, 0); font-family: 'Microsoft YaHei'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;"><span style="font-size: medium;">nam</span>e</span>2&quot;,</div><div>        &quot;size&quot;: 12225,</div><div>        &quot;ts&quot;: 10000000,</div><div>        &quot;type&quot;: file,</div><div>        &quot;dataowner&quot;: &quot;host1:0.7, host2:0.3&quot;</div><div>    }</div><div>]</div></td></tr></table><div>If failed, this method returns an error response. See <a href="Response the FAILED request.html" style="color:#69aa35">Response the FAILED request</a></div></span>
</div></body></html> 